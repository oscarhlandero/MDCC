<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Music Distribution Commission Calculator</title>
<style>
* {
box-sizing: border-box;
margin: 0;
padding: 0;
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
min-height: 100vh;
padding: 20px;
}

.calculator-container {
max-width: 800px;
margin: 0 auto;
background: white;
border-radius: 15px;
box-shadow: 0 20px 40px rgba(0,0,0,0.1);
overflow: hidden;
}

.header {
background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
color: white;
padding: 30px;
text-align: center;
}

.header h1 {
font-size: 2.2em;
margin-bottom: 10px;
}

.header p {
opacity: 0.9;
font-size: 1.1em;
}

.calculator-body {
padding: 30px;
}

.artist-section {
background: #f8f9fa;
border-radius: 10px;
padding: 25px;
margin-bottom: 25px;
border-left: 4px solid #3498db;
}

.artist-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.artist-header h3 {
color: #2c3e50;
}

.remove-artist {
background: #e74c3c;
color: white;
border: none;
padding: 8px 15px;
border-radius: 5px;
cursor: pointer;
font-weight: bold;
}

.form-group {
margin-bottom: 15px;
}

label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: #2c3e50;
}

select, input {
width: 100%;
padding: 12px;
border: 2px solid #e1e8ed;
border-radius: 8px;
font-size: 16px;
transition: border-color 0.3s;
}

select:focus, input:focus {
outline: none;
border-color: #3498db;
}

.buttons {
display: flex;
gap: 15px;
margin: 25px 0;
}

.btn {
flex: 1;
padding: 15px;
border: none;
border-radius: 8px;
font-size: 16px;
font-weight: bold;
cursor: pointer;
transition: all 0.3s;
}

.btn-primary {
background: #3498db;
color: white;
}

.btn-success {
background: #27ae60;
color: white;
}

.btn-secondary {
background: #95a5a6;
color: white;
}

.btn:hover {
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.results {
background: #2c3e50;
color: white;
padding: 25px;
border-radius: 10px;
margin-top: 20px;
}

.results h2 {
text-align: center;
margin-bottom: 20px;
font-size: 1.8em;
}

.result-item {
display: flex;
justify-content: space-between;
padding: 12px 0;
border-bottom: 1px solid #34495e;
}

.result-item.total {
font-size: 1.4em;
font-weight: bold;
border-bottom: none;
border-top: 2px solid #3498db;
margin-top: 10px;
padding-top: 20px;
color: #3498db;
}

.artist-breakdown {
margin-top: 25px;
}

.breakdown-item {
background: #34495e;
padding: 15px;
border-radius: 8px;
margin-bottom: 10px;
}

.tier-info {
background: #ecf0f1;
padding: 15px;
border-radius: 8px;
margin-top: 20px;
border-left: 4px solid #3498db;
}

.tier-info h4 {
color: #2c3e50;
margin-bottom: 10px;
}

.hidden {
display: none;
}

@media (max-width: 768px) {
.calculator-body {
padding: 20px;
}

.buttons {
flex-direction: column;
}
}
</style>
</head>
<body>
<div class="calculator-container">
<div class="header">
<h1>ðŸŽµ Music Distribution Commission Calculator</h1>
<p>Calculate earnings based on artist performance and release cadence</p>
</div>

<div class="calculator-body">
<div id="artists-container">
<!-- Artist sections will be added here dynamically -->
</div>

<div class="buttons">
<button class="btn btn-success" onclick="addArtist()">+ Add Another Artist</button>
<button class="btn btn-primary" onclick="calculateCommission()">Calculate Commission</button>
<button class="btn btn-secondary" onclick="resetCalculator()">Reset Calculator</button>
</div>

<div class="tier-info">
<h4>ðŸ“Š Commission Structure Info:</h4>
<p><strong>Signing Bonus:</strong> Emerging ($100) | Growth ($250) | Established ($500) | Premium ($1,000)</p>
<p><strong>Release Multiplier:</strong> 0-1 releases (0.8x) | 2 releases (1.0x) | 3 releases (1.2x) | 4+ releases (1.5x)</p>
<p><strong>Commission Tiers:</strong> 0-5M (3%) | 5-15M (4%) | 15-30M (5%) | 30M+ (6%) streams per quarter</p>
</div>

<div id="results" class="results hidden">
<h2>ðŸ’° Commission Results</h2>
<div id="results-content">
<!-- Results will be populated here -->
</div>
</div>
</div>
</div>

<script>
let artistCount = 0;

// Initialize with one artist
document.addEventListener('DOMContentLoaded', function() {
addArtist();
});

function addArtist() {
artistCount++;
const artistsContainer = document.getElementById('artists-container');

const artistSection = document.createElement('div');
artistSection.className = 'artist-section';
artistSection.innerHTML = `
<div class="artist-header">
<h3>Artist #${artistCount}</h3>
${artistCount > 1 ? '<button class="remove-artist" onclick="removeArtist(this)">Remove</button>' : ''}
</div>
<div class="form-group">
<label for="artistTier${artistCount}">Artist Tier (Based on Historical Monthly Streams)</label>
<select id="artistTier${artistCount}">
<option value="emerging">Emerging (0-50K streams/month)</option>
<option value="growth">Growth (50K-200K streams/month)</option>
<option value="established">Established (200K-1M streams/month)</option>
<option value="premium">Premium (1M+ streams/month)</option>
</select>
</div>
<div class="form-group">
<label for="quarterlyStreams${artistCount}">Quarterly Streams (Current Quarter)</label>
<input type="number" id="quarterlyStreams${artistCount}" placeholder="Enter total streams for the quarter" min="0">
</div>
<div class="form-group">
<label for="releases${artistCount}">Number of Releases (Last 12 Months)</label>
<select id="releases${artistCount}">
<option value="0">0-1 Releases</option>
<option value="2">2 Releases</option>
<option value="3" selected>3 Releases</option>
<option value="4">4+ Releases</option>
</select>
</div>
<div class="form-group">
<label for="isNew${artistCount}">Is this a new signing this quarter?</label>
<select id="isNew${artistCount}">
<option value="no">No</option>
<option value="yes">Yes</option>
</select>
</div>
`;

artistsContainer.appendChild(artistSection);
}

function removeArtist(button) {
const artistSection = button.closest('.artist-section');
artistSection.remove();
artistCount--;
// Renumber remaining artists
const sections = document.querySelectorAll('.artist-section');
sections.forEach((section, index) => {
section.querySelector('h3').textContent = `Artist #${index + 1}`;
});
}

function calculateCommission() {
const STREAM_RATE = 0.004; // $0.004 per stream
let totalQuarterlyStreams = 0;
let totalCommission = 0;
let totalSigningBonus = 0;
const artistResults = [];

// Commission tiers
const commissionTiers = [
{ maxStreams: 5000000, rate: 0.03 },
{ maxStreams: 15000000, rate: 0.04 },
{ maxStreams: 30000000, rate: 0.05 },
{ maxStreams: Infinity, rate: 0.06 }
];

// Signing bonuses
const signingBonuses = {
'emerging': 100,
'growth': 250,
'established': 500,
'premium': 1000
};

// Release multipliers
const releaseMultipliers = {
'0': 0.8,
'2': 1.0,
'3': 1.2,
'4': 1.5
};

// Collect data from all artists
for (let i = 1; i <= artistCount; i++) {
const tierSelect = document.getElementById(`artistTier${i}`);
const streamsInput = document.getElementById(`quarterlyStreams${i}`);
const releasesSelect = document.getElementById(`releases${i}`);
const isNewSelect = document.getElementById(`isNew${i}`);

if (!tierSelect || !streamsInput || !releasesSelect || !isNewSelect) continue;

const tier = tierSelect.value;
const quarterlyStreams = parseInt(streamsInput.value) || 0;
const releases = releasesSelect.value;
const isNew = isNewSelect.value === 'yes';

totalQuarterlyStreams += quarterlyStreams;

// Calculate signing bonus for new artists
let signingBonus = 0;
if (isNew) {
signingBonus = signingBonuses[tier];
totalSigningBonus += signingBonus;
}

artistResults.push({
tier,
quarterlyStreams,
releases,
isNew,
signingBonus
});
}

// Calculate base commission rate based on total streams
let commissionRate = 0.03;
for (const tier of commissionTiers) {
if (totalQuarterlyStreams <= tier.maxStreams) {
commissionRate = tier.rate;
break;
}
}

// Calculate total revenue and base commission
const totalRevenue = totalQuarterlyStreams * STREAM_RATE;
let baseCommission = totalRevenue * commissionRate;

// Apply release multipliers per artist and calculate adjusted commission
let adjustedCommission = 0;
const breakdown = [];

artistResults.forEach((artist, index) => {
const artistRevenue = artist.quarterlyStreams * STREAM_RATE;
const artistBaseCommissionShare = (artist.quarterlyStreams / totalQuarterlyStreams) * baseCommission;
const multiplier = releaseMultipliers[artist.releases];
const artistAdjustedCommission = artistBaseCommissionShare * multiplier;

adjustedCommission += artistAdjustedCommission;

breakdown.push({
artistNumber: index + 1,
tier: artist.tier,
streams: artist.quarterlyStreams.toLocaleString(),
releases: artist.releases === '4' ? '4+' : artist.releases,
multiplier: multiplier + 'x',
signingBonus: artist.signingBonus,
commission: artistAdjustedCommission
});
});

totalCommission = adjustedCommission + totalSigningBonus;

// Display results
displayResults(totalQuarterlyStreams, totalRevenue, baseCommission, adjustedCommission, totalSigningBonus, totalCommission, commissionRate, breakdown);
}

function displayResults(streams, revenue, baseCommission, adjustedCommission, signingBonus, totalCommission, commissionRate, breakdown) {
const resultsDiv = document.getElementById('results');
const resultsContent = document.getElementById('results-content');

resultsContent.innerHTML = `
<div class="result-item">
<span>Total Quarterly Streams:</span>
<span>${streams.toLocaleString()}</span>
</div>
<div class="result-item">
<span>Estimated Revenue:</span>
<span>$${revenue.toFixed(2)}</span>
</div>
<div class="result-item">
<span>Commission Tier Rate:</span>
<span>${(commissionRate * 100).toFixed(1)}%</span>
</div>
<div class="result-item">
<span>Base Commission:</span>
<span>$${baseCommission.toFixed(2)}</span>
</div>
<div class="result-item">
<span>After Release Multipliers:</span>
<span>$${adjustedCommission.toFixed(2)}</span>
</div>
<div class="result-item">
<span>Total Signing Bonuses:</span>
<span>$${signingBonus.toFixed(2)}</span>
</div>
<div class="result-item total">
<span>TOTAL COMMISSION:</span>
<span>$${totalCommission.toFixed(2)}</span>
</div>

<div class="artist-breakdown">
<h3>Artist Breakdown:</h3>
${breakdown.map(artist => `
<div class="breakdown-item">
<div class="result-item">
<span>Artist #${artist.artistNumber} (${artist.tier})</span>
<span>${artist.streams} streams</span>
</div>
<div class="result-item">
<span>${artist.releases} releases Ã— ${artist.multiplier}</span>
<span>$${artist.commission.toFixed(2)}</span>
</div>
${artist.signingBonus > 0 ? `
<div class="result-item">
<span>Signing Bonus:</span>
<span>$${artist.signingBonus.toFixed(2)}</span>
</div>
` : ''}
</div>
`).join('')}
</div>
`;

resultsDiv.classList.remove('hidden');
resultsDiv.scrollIntoView({ behavior: 'smooth' });
}

function resetCalculator() {
artistCount = 0;
document.getElementById('artists-container').innerHTML = '';
document.getElementById('results').classList.add('hidden');
addArtist();
}
</script>
</body>
</html>
